<ion-view view-title="Weight History">
    <style>
        .fill_screen > div {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        path {
            fill: none;
            stroke: white;
            stroke-width: 2px;
        }

        line {
            fill: none;
            stroke: white;
            stroke-width: 1px;
        }

        text {
            font-size: 12px;
            font-weight: bold;
            fill: white;
        }
    </style>

    <ion-nav-view>
        <ion-content class="fill_screen">
            <div weight-chart style="flex-grow: 1; position: relative;"></div>

            <div style="height: 46px;
                        line-height: 46px;
                        background-color: rgb(243,243,243);
                        font-weight: bold;
                        color: rgb(168,168,168);
                        padding-left: 16px;
                        font-size: 14px;
                        box-shadow: inset 0 0 5px rgba(186, 186, 186, 0.4);">
                Timeline
            </div>

            <ion-scroll zooming="true" direction="y" style="height: 45%; position: relative;">
                <div ng-repeat="record in records" style="display: flex;">
                    <div style="width: 53px; text-align: center; font-size: 20px; color: white; position: relative;">
                        <div style="color: black;
                                        font-size: 12px;
                                        position: absolute;
                                        line-height: 73px;
                                        z-index: 100;">
                        </div>

                        <div ng-if="record.weightDiff < 0" style="width: 16px;
                                        height: 32px;
                                        margin: 0 auto;
                                        transform: translateY(70%);
                                        border-radius: 8px;
                                        background: #fff;
                                        border: 2px solid rgb(142,209,138);
                                        box-shadow: inset 0 0 3px rgba(0,0,0,0.2);">
                            <i class="icon ion-arrow-down-c" style="position: relative;
                                                                      font-size: 16px;
                                                                      top: 4px;
                                                                      color: rgb(142,209,138);">
                            </i>
                        </div>

                        <div ng-if="record.weightDiff > 0" style="width: 16px;
                                        height: 32px;
                                        margin: 0 auto;
                                        transform: translateY(70%);
                                        border-radius: 8px;
                                        background: #fff;
                                        border: 2px solid #FAA69F;
                                        box-shadow: inset 0 0 3px rgba(0,0,0,0.2);">
                            <i class="icon ion-arrow-up-c" style="position: relative;
                                                                      font-size: 16px;
                                                                      top: 4px;
                                                                      color: #FAA69F;">
                            </i>
                        </div>
                        <div style="position: absolute;
                                        height: 100%;
                                        width: 4px;
                                        top: 0;
                                        left: 25px;
                                        background: rgb(92,215,232);
                                        z-index: -1;">
                        </div>
                    </div>

                    <div style="flex-grow: 2;
                                    padding: 16px;
                                    color: #444;
                                    border: 1px none #ddd;
                                    border-bottom-style: solid;">
                        <div style="display: flex; color: rgba(0, 0, 0, 0.7); font-size: 16px; font-weight: bold;">
                            <div style="flex-grow: 1;">
                                Net weight: {{record.weightInLbs}} .lbs
                            </div>

                            <div style="flex-grow: 1;
                                            color: rgba(0, 0, 0, 0.38);
                                            font-size: 13px;
                                            font-weight: bold;
                                            text-align: right;">
                                <i class="icon ion-android-calendar"></i>&nbsp {{record.recordedDate}}
                            </div>
                        </div>
                        <div style="color: rgba(0, 0, 0, 0.38); font-size: 12px; font-weight: bold;">
                            <span ng-if="record.weightDiff > 0">Gain:</span>
                            <span ng-if="record.weightDiff < 0">Loss:</span>
                            {{Math.abs(record.weightDiff)}} .lbs
                        </div>
                    </div>
                </div>
            </ion-scroll>
        </ion-content>
    </ion-nav-view>
</ion-view>